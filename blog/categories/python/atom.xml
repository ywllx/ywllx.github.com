<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: python | 其实很简单]]></title>
  <link href="http://ywllx.github.com/blog/categories/python/atom.xml" rel="self"/>
  <link href="http://ywllx.github.com/"/>
  <updated>2013-07-01T17:43:20+08:00</updated>
  <id>http://ywllx.github.com/</id>
  <author>
    <name><![CDATA[Fred Yan]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[python文本处理]]></title>
    <link href="http://ywllx.github.com/blog/2013/06/28/python-text-processing/"/>
    <updated>2013-06-28T11:45:00+08:00</updated>
    <id>http://ywllx.github.com/blog/2013/06/28/python-text-processing</id>
    <content type="html"><![CDATA[<p>对于脚本语言来说，文本处理任务构成了一个很重要的组成部分。python提供用于文本处理最主要的工具就是字符串——不可改变的字符序列。python提供了很多基于字符串的基本处理方法，掌握这些方法对于处理文本是十分用于的，这里不再详述。我这里主要是总结《python cookbook》中关于文本处理的几个例子一些内容形成的一个博客。</p>

<hr />

<h4>每次处理一个字符</h4>

<p>在例子1中，文章提到了如何处理字符串中每个字符的四种基本方法。python实际上并没有一个特别的类型来对应“字符”以区别字符串,要做到每次处理一个字符的方式处理字符串。可以调用内建的<code>list</code>，用字符串作为参数：</p>

<pre><code>thelist = list(thestring)
</code></pre>

<p>或者用<code>for</code>语句对该字符串进行循环遍历：</p>

<pre><code>for c in thestring:
    do_something_with(c)
</code></pre>

<p>上面可以换成以下用法：</p>

<pre><code>results = [do_something_with(c) for c in thestring]
</code></pre>

<p>或者用内建的<code>map</code>函数，每次取得一个字符就调用一次处理函数：</p>

<pre><code>results = map(do_something, thestring]
</code></pre>

<hr />

<h4>测试一个对象是否为字符串</h4>

<p>在python cookbook中提到，许多程序员遇到这个问题的第一反应是采用如下方法：</p>

<pre><code>def isExactlyAString(obj):
    return type(obj) is type('')
</code></pre>

<p>书中说到这个方法不太好，很多Unicode对象无法通过这个测试，用户自己编写的str的子类也不行，我尝试了下，发现中文字符串还是可以通过这个测试的。书中提到的首先的解决方案是采用如下方法：</p>

<pre><code>def isAstring(obj):
    return isinstance(obj, basestring)
</code></pre>

<p>但书中接着提到这个方案也有不足，对于python标准库中提到的UserString的模块提供的UserString实例也无能为力，因为它不是从basestring派生的。想检查一个对象行为是否真的像字符串那样，可以采取如下方法：</p>

<pre><code>def isStringLike(obj):
    try: obj + ''
    excpet: return False
    else: return true
</code></pre>

<p>它实用于str，unicode和Usertring，但是比较复杂而且运行比较慢。
这个方法仍有可能不满足的地方，如是作者提到了一个所谓的鸭子判断法：如果它走路像鸭子，而且叫声也像鸭子，那么对于我们的应用而言，便可以认为这个东西就是鸭子。这个方法蛮有意思的，倒有点像做测试，如果我所列出的一大堆测试都过了，那么便可以认为这个程序基本就正确了，可以用了，当然很有可能它还有我们没发现的bug。</p>
]]></content>
  </entry>
  
</feed>
